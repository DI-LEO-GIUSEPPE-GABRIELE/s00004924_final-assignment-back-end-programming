{
  "info": {
    "_postman_id": "b6a8e5f1-2c4d-4e6f-9a1b-3c5d7e9f0a2b",
    "name": "BlueSky Airline",
    "description": "Postman collection for BlueSky Airline backend API.",
    "schema": "https://schema.getpostman.com/json/collection/v2.1.0/collection.json"
  },
  "item": [
    {
      "name": "Aircrafts",
      "item": [
        {
          "name": "List Aircrafts",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/aircrafts",
              "host": ["{{baseUrl}}"],
              "path": ["aircrafts"]
            }
          },
          "response": []
        },
        {
          "name": "Get Aircraft Types",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/aircrafts/types",
              "host": ["{{baseUrl}}"],
              "path": ["aircrafts", "types"]
            }
          },
          "response": []
        },
        {
          "name": "Get Aircraft",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/aircrafts/:id",
              "host": ["{{baseUrl}}"],
              "path": ["aircrafts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Passenger Aircraft",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"brand\": \"Boeing\",\n    \"model\": \"737\",\n    \"type\": \"PASSENGER\",\n    \"totalSeats\": 180\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/aircrafts",
              "host": ["{{baseUrl}}"],
              "path": ["aircrafts"]
            }
          },
          "response": []
        },
        {
          "name": "Create Cargo Aircraft",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"brand\": \"Boeing\",\n    \"model\": \"747 Freighter\",\n    \"type\": \"CARGO\",\n    \"maxLoadCapacity\": 120000\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/aircrafts",
              "host": ["{{baseUrl}}"],
              "path": ["aircrafts"]
            }
          },
          "response": []
        },
        {
          "name": "Update Aircraft",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"brand\": \"Boeing\",\n    \"model\": \"737 Max\",\n    \"type\": \"PASSENGER\",\n    \"totalSeats\": 190\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/aircrafts/:id",
              "host": ["{{baseUrl}}"],
              "path": ["aircrafts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Aircraft",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/aircrafts/:id",
              "host": ["{{baseUrl}}"],
              "path": ["aircrafts", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Airports",
      "item": [
        {
          "name": "List Airports",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/airports",
              "host": ["{{baseUrl}}"],
              "path": ["airports"]
            }
          },
          "response": []
        },
        {
          "name": "Get Airport",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/airports/:id",
              "host": ["{{baseUrl}}"],
              "path": ["airports", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Airport",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"code\": \"JFK\",\n    \"name\": \"John F. Kennedy International Airport\",\n    \"city\": \"New York\",\n    \"country\": \"USA\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/airports",
              "host": ["{{baseUrl}}"],
              "path": ["airports"]
            }
          },
          "response": []
        },
        {
          "name": "Update Airport",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"code\": \"JFK\",\n    \"name\": \"John F. Kennedy International Airport (Updated)\",\n    \"city\": \"New York\",\n    \"country\": \"USA\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/airports/:id",
              "host": ["{{baseUrl}}"],
              "path": ["airports", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Airport",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/airports/:id",
              "host": ["{{baseUrl}}"],
              "path": ["airports", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Auth",
      "item": [
        {
          "name": "Register",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"Admin User\",\n    \"surname\": \"Admin Surname\",\n    \"username\": \"adminuser\",\n    \"email\": \"admin@bluesky.com\",\n    \"password\": \"password123\",\n    \"avatarUrl\": \"http://example.com/avatar.png\",\n    \"roleCode\": 0\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/register",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "register"]
            },
            "description": "Register a new user. roleCode: 0=ADMIN, 1=FLIGHT_MANAGER, 2=TOUR_OPERATOR"
          },
          "response": []
        },
        {
          "name": "Login",
          "event": [
            {
              "listen": "test",
              "script": {
                "exec": [
                  "var jsonData = pm.response.json();",
                  "pm.collectionVariables.set(\"token\", jsonData.token);"
                ],
                "type": "text/javascript"
              }
            }
          ],
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"email\": \"admin@bluesky.com\",\n    \"password\": \"password123\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/auth/login",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "login"]
            }
          },
          "response": []
        },
        {
          "name": "Logout",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/auth/logout",
              "host": ["{{baseUrl}}"],
              "path": ["auth", "logout"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Flights",
      "item": [
        {
          "name": "List Flights",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/flights?code=BS123&status=SCHEDULED",
              "host": ["{{baseUrl}}"],
              "path": ["flights"],
              "query": [
                {
                  "key": "code",
                  "value": "BS123"
                },
                {
                  "key": "from",
                  "value": "2023-01-01T00:00:00Z",
                  "disabled": true
                },
                {
                  "key": "to",
                  "value": "2023-12-31T23:59:59Z",
                  "disabled": true
                },
                {
                  "key": "status",
                  "value": "SCHEDULED"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Flight Statuses",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/flights/statuses",
              "host": ["{{baseUrl}}"],
              "path": ["flights", "statuses"]
            }
          },
          "response": []
        },
        {
          "name": "Get Flight",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/flights/:id",
              "host": ["{{baseUrl}}"],
              "path": ["flights", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Convert Price",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/flights/:id/price/convert?target=USD&base=EUR",
              "host": ["{{baseUrl}}"],
              "path": ["flights", ":id", "price", "convert"],
              "query": [
                {
                  "key": "target",
                  "value": "USD"
                },
                {
                  "key": "base",
                  "value": "EUR"
                }
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Flight",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"flightCode\": \"BS123\",\n    \"departureDate\": \"2023-12-25T10:00:00Z\",\n    \"arrivalDate\": \"2023-12-25T14:00:00Z\",\n    \"basePrice\": 150.00,\n    \"status\": \"SCHEDULED\",\n    \"departureAirportId\": \"<UUID>\",\n    \"arrivalAirportId\": \"<UUID>\",\n    \"aircraftId\": \"<UUID>\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/flights",
              "host": ["{{baseUrl}}"],
              "path": ["flights"]
            }
          },
          "response": []
        },
        {
          "name": "Refresh Weather",
          "request": {
            "method": "POST",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/flights/:id/weather/refresh",
              "host": ["{{baseUrl}}"],
              "path": ["flights", ":id", "weather", "refresh"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Update Flight",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"flightCode\": \"BS123-UPD\",\n    \"departureDate\": \"2023-12-26T10:00:00Z\",\n    \"arrivalDate\": \"2023-12-26T14:00:00Z\",\n    \"basePrice\": 160.00,\n    \"status\": \"DELAYED\",\n    \"departureAirportId\": \"<UUID>\",\n    \"arrivalAirportId\": \"<UUID>\",\n    \"aircraftId\": \"<UUID>\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/flights/:id",
              "host": ["{{baseUrl}}"],
              "path": ["flights", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Flight",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/flights/:id",
              "host": ["{{baseUrl}}"],
              "path": ["flights", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "GraphQL",
      "item": [
        {
          "name": "Query Flights",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "graphql",
              "graphql": {
                "query": "query {\n    flights(page: 0, size: 10) {\n        id\n        code\n        status\n        basePrice\n    }\n}",
                "variables": ""
              }
            },
            "url": {
              "raw": "{{baseUrl}}/graphql",
              "host": ["{{baseUrl}}"],
              "path": ["graphql"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Reservations",
      "item": [
        {
          "name": "List Reservations",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/reservations?status=PENDING",
              "host": ["{{baseUrl}}"],
              "path": ["reservations"],
              "query": [
                {
                  "key": "status",
                  "value": "PENDING",
                  "description": "Optional: PENDING, CONFIRMED, CANCELLED"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get Reservation",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/reservations/:id",
              "host": ["{{baseUrl}}"],
              "path": ["reservations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create Reservation",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"flightId\": \"<UUID>\",\n    \"userId\": \"<UUID>\",\n    \"totalPrice\": 100.00,\n    \"status\": \"PENDING\"\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/reservations",
              "host": ["{{baseUrl}}"],
              "path": ["reservations"]
            }
          },
          "response": []
        },
        {
          "name": "Update Reservation Status",
          "request": {
            "method": "PUT",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/reservations/:id/status?status=CONFIRMED",
              "host": ["{{baseUrl}}"],
              "path": ["reservations", ":id", "status"],
              "query": [
                {
                  "key": "status",
                  "value": "CONFIRMED"
                }
              ],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete Reservation",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/reservations/:id",
              "host": ["{{baseUrl}}"],
              "path": ["reservations", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Roles",
      "item": [
        {
          "name": "List Roles",
          "request": {
            "auth": {
              "type": "noauth"
            },
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/roles",
              "host": ["{{baseUrl}}"],
              "path": ["roles"]
            }
          },
          "response": []
        }
      ]
    },
    {
      "name": "Users",
      "item": [
        {
          "name": "List Users",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users?mode=derived&nameContains=Admin&emailDomain=bluesky.com&page=0&size=10&sort=name,asc",
              "host": ["{{baseUrl}}"],
              "path": ["users"],
              "query": [
                {
                  "key": "mode",
                  "value": "derived",
                  "description": "derived, jpql, native"
                },
                {
                  "key": "nameContains",
                  "value": "Admin"
                },
                {
                  "key": "emailDomain",
                  "value": "bluesky.com"
                },
                {
                  "key": "page",
                  "value": "0",
                  "description": "Page number (0-based)"
                },
                {
                  "key": "size",
                  "value": "10",
                  "description": "Page size"
                },
                {
                  "key": "sort",
                  "value": "name,asc",
                  "description": "Sorting criteria (e.g. name,asc)"
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Get User",
          "request": {
            "method": "GET",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/:id",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Create User",
          "request": {
            "method": "POST",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"John Doe\",\n    \"surname\": \"Doe\",\n    \"username\": \"johndoe\",\n    \"email\": \"john@example.com\",\n    \"avatarUrl\": \"http://example.com/avatar.png\",\n    \"roleCode\": 0\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/users",
              "host": ["{{baseUrl}}"],
              "path": ["users"]
            }
          },
          "response": []
        },
        {
          "name": "Update User",
          "request": {
            "method": "PUT",
            "header": [],
            "body": {
              "mode": "raw",
              "raw": "{\n    \"name\": \"John Updated\",\n    \"surname\": \"Updated\",\n    \"username\": \"johnupdated\",\n    \"email\": \"john@example.com\",\n    \"avatarUrl\": \"http://example.com/avatar_updated.png\",\n    \"roleCode\": 0\n}",
              "options": {
                "raw": {
                  "language": "json"
                }
              }
            },
            "url": {
              "raw": "{{baseUrl}}/users/:id",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        },
        {
          "name": "Delete User",
          "request": {
            "method": "DELETE",
            "header": [],
            "url": {
              "raw": "{{baseUrl}}/users/:id",
              "host": ["{{baseUrl}}"],
              "path": ["users", ":id"],
              "variable": [
                {
                  "key": "id",
                  "value": ""
                }
              ]
            }
          },
          "response": []
        }
      ]
    }
  ],
  "auth": {
    "type": "bearer",
    "bearer": [
      {
        "key": "token",
        "value": "{{token}}",
        "type": "string"
      }
    ]
  },
  "event": [
    {
      "listen": "prerequest",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    },
    {
      "listen": "test",
      "script": {
        "type": "text/javascript",
        "exec": [""]
      }
    }
  ],
  "variable": [
    {
      "key": "baseUrl",
      "value": "http://localhost:3001",
      "type": "string"
    },
    {
      "key": "token",
      "value": "",
      "type": "string"
    }
  ]
}
